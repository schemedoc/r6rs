\chapter{Optional case insensitivity}
\label{caseinsensitivityappendix}

In contrast with earlier revisions of the report~\cite{R5RS}, the
syntax of data distinguishes upper and lower case in identifiers and in
characters specified via their names.  For example, the identifiers
{\cf X} and {\cf x} are different, and the character
{\cf\sharpsign\backwhack{}space} cannot be written
{\cf\sharpsign\backwhack{}SPACE}.

Implementors may wish to support case-insensitive syntax for backward
compatibility or other reasons.
If they do so, they are encouraged to adopt the following directives
to control case folding.

\begin{entry}{%
{\cf{}\#!fold-case}\sharpbangindex{fold-case}\\
{\cf{}\#!no-fold-case}\sharpbangindex{no-fold-case}}

These directives may appear anywhere comments may appear and are
treated as comments, except that they affect the reading of subsequent
data.
The {\cf{}\#!fold-case} causes the reader to case-fold
(see library section~\extref{lib:string-foldcase}{``Unicode''})
each \meta{identifier} and \meta{character name}.
The {\cf{}\#!no-fold-case} directive causes the reader to return
to the default, non-folding behavior.

The region where each of these directives has effect depends on the
context. If the directive occurs at top level, the region extends
until the next such directive at top level, or until the end of the
source text if no such directive follows.  If the directive occurs in
the immediate context of a \hyper{list} or \hyper{vector} datum (i.e.,
in a place that would make it an element of the list or vector if it
were a datum), the region of its effect extends until the next such
directive in the same context, or until the end of the context if no
such directive follows. A directive occurring inside the region of
effect of another directive takes precedence.
\end{entry}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "r6rs-app"
%%% End: 
